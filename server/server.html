<head>
  <title>喵德利-社区</title>
</head>

<body>
	<div class="font-hei">
		{{#if currentUser}}
			{{> mainDisplay}}
		{{else}}
			{{> welcomeDisplay}}
		{{/if}}
	</div>
</body>

<template name="welcomeDisplay">
	<div class="container margin-top-30">
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				{{#if showSignUpDisplay}}
					{{> signUpDisplay}}
				{{else}}
					{{> signInDisplay}}
				{{/if}}				
			</div>
		</div>
	</div>
</template>

<template name="mainDisplay">
	{{> headerDisplay}}
	{{> bodyDisplay}}
</template>

<template name="signInDisplay">
	<div class="panel panel-primary">
		<div class="panel-heading">登录</div>
		<div class="panel-body">
			<form>
				<fieldset>
					<div class="form-group">
						<label>邮箱</label>
						<input type="email" class="email form-control" placeholder="请输入您的邮箱">
					</div>
					<div class="form-group">
						<label>密码</label>
						<input type="password" class="password form-control" placeholder="请输入您的密码">
					</div>
				</fieldset>
			</form>
			<span>还没有帐号？<a class="sign-up" href="javascript:">立即注册</a></span>
		</div>
		<div class="panel-footer">
			<button type="button" class="btn btn-primary">登录</button>
		</div>
	</div>
</template>

<template name="signUpDisplay">
	<div class="panel panel-primary">
		<div class="panel-heading">注册</div>
		<div class="panel-body">
			<form>
				<fieldset>
					<div class="form-group">
						<label>姓名</label>
						<input type="text" class="name form-control" placeholder="请输入您的姓名">
					</div>
					<div class="form-group">
						<label>邮箱</label>
						<input type="email" class="email form-control" placeholder="请输入您的邮箱">
					</div>
					<div class="form-group">
						<label>密码</label>
						<input type="password" class="password form-control" placeholder="请输入您的密码">
					</div>
				</fieldset>
			</form>
			<span>已经有帐号？<a class="sign-in" href="javascript:">立即登录</a></span>
		</div>
		<div class="panel-footer">
			<button type="button" class="btn btn-primary">注册</button>
		</div>
	</div>
</template>

<template name="chatDisplay">
	<div class="panel panel-default">
		<div class="panel-heading">对话</div>
		<div class="panel-body">
			Body
		</div>
		<div class="panel-footer">
			<form>
				<fieldset>
					<div class="form-group">
						<textarea class="form-control" rows="1"></textarea>
					</div>
					<button class="btn btn-primary">发送</button>
				</fieldset>
			</form>
		</div>
	</div>
</template>

<template name="headerDisplay">
	<div class="navbar navbar-default" role="navigation">
		<div class="navbar-header">
			<a href="#" class="navbar-brand">Miaodeli</a>
			<ul class="nav navbar-nav">
				<li>
					<a href="#me" data-toggle="tab">我</a>
				</li>
				<li>
					<a href="#chat" data-toggle="tab">对话</a>
				</li>
				<li class="active">
					<a href="#contacts" data-toggle="tab">联系人</a>
				</li>
				<li>
					<a href="#data-cloud" data-toggle="tab">资料库</a>
				</li>
			</ul>
		</div>
		<a href="#" style="margin-right: 15px" class="sign-out btn btn-default navbar-btn pull-right">注销 {{myName}}</a>
	</div>
</template>

<template name="bodyDisplay">
	<div class="container home-display">
		<div class="row">
			<div class="col-md-8">
				<div class="tab-content">
					<div class="tab-pane" id="me">
						{{> meDisplay}}
					</div>
					<div class="tab-pane" id="chat">
						{{> chatDisplay}}
					</div>
					<div class="tab-pane active" id="contacts">
						{{> contactsDisplay}}
					</div>
					<div class="tab-pane" id="data-cloud">
						{{> dataCloudDisplay}}
					</div>
				</div>
			</div>
			<div class="col-md-4">
				{{> recentChatDisplay}}
			</div>
		</div>
	</div>
</template>

<template name="contactsDisplay">
	<div class="tab-content">
		<div class="tab-pane active">
			<div class="s-container margin-bt-15">
				<div class="row">
					<div class="nav nav-pills col-xs-4">
						<li class="active">
							<a href="#">已添加的</a>
						</li>
						<li>
							<a href="#">整个网络</a>
						</li>
					</div>
					<div class="col-xs-6 col-xs-offset-2 padding-rt-0">
						<div class="input-group">
							<input type="text" class="form-control">
							<span class="input-group-btn">
								<button class="btn btn-default">搜索</button>
							</span>
						</div>
					</div>
				</div>
			</div>
			{{> allUserDisplay}}
		</div>
	</div>

</template>

<template name="meDisplay">
	我
</template>

<template name="dataCloudDisplay">
	资料库
</template>

<template name="allUserDisplay">
	{{#each allUser}}
		{{> userDisplay}}
	{{/each}}
</template>

<template name="userDisplay">
	<div class="panel panel-default">
		<div class="panel-body">
			<div class="media">
				<div class="pull-left">
					<img src="{{faceImageUrl}}" alt="" class="media-object">
				</div>
				<div class="media-body">
					<strong>{{profile.name}}</strong><br>
					{{profile.email}}			
				</div>
			</div>
		</div>
	</div>
</template>

<template name="recentChatDisplay">
	<div class="panel panel-default">
		<div class="panel-heading border-bottom-none">
			最近对话
		</div>
	</div>
</template>

<template name="allFriendDisplay">
	<div class="panel panel-default">
		<div class="panel-heading border-bottom-none">
			我的联系人
		</div>
		<ul class="list-group">
			{{#each allFriend}}
				{{> friendDisplay}}
			{{else}}
				{{> emptyFriendDisplay}}
			{{/each}}
		</ul>
		<div class="panel-footer">
		</div>
	</div>
</template>

<template name="friendDisplay">
	<li class="list-group-item">
		<div class="btn-group pull-right">
			<button href="#" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
				<span class="caret"></span>
			</button>
			<ul class="dropdown-menu" role="menu">
				<li>
					<a href="#">对话</a>
				</li>
				<li>
					<a href="#">详细资料</a>
				</li>
				<li class="divider"></li>
				<li class="">
					<a href="#">删除</a>
				</li>
			</ul>					
		</div>
		<div class="media margin-bt-10">
			<div class="pull-left">
				<img src="{{faceImageUrl}}" alt="" class="media-object">
			</div>
			<div class="media-body overflow-visible">
				<strong>{{friendProfile.name}}</strong>
				<br>
				{{friendProfile.email}}			
			</div>
		</div>
	</li>
</template>

<template name="emptyFriendDisplay">
	<li class="list-group-item">
		您还没有联系人，赶快添加吧 :)
	</li>
</template>

<template name="contactsFilterDisplay">
	filter
</template>